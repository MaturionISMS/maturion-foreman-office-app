# RISK_VULNERABILITY_FRONTEND_COMPONENT_MAP_v0.1
**System:** Maturion ISMS  
**Module:** Vulnerability Management  
**Version:** v0.1  
**Status:** Architecture Approved  
**Scope:** All React/Next.js frontend components required for a full implementation of the Vulnerability Module

---

# 0. PURPOSE OF THIS DOCUMENT

This component map defines:
- All UI components  
- Dynamic pages  
- Subpages  
- Shared components  
- Modals  
- Wizards  
- Overlays  
- State stores  
- Required props + events  
- Component-to-component wiring  
- API dependencies  
- Integration with PIT, Threat, Incident, and ISMS modules  

This ensures:
- Zero ambiguity  
- No regressions  
- Perfect alignment with the True North Architecture  
- Predictable Foreman + Builder agent behaviour  
- Full QA traceability  

---

# 1. PAGE STRUCTURE OVERVIEW

```text
/pages
 └── vulnerability/
      ├── index.tsx                    (Dashboard)
      ├── [componentId]/
      │     ├── index.tsx             (Component Overview)
      │     ├── map.tsx               (Mapping Interface)
      │     ├── vulnerabilities.tsx   (Vulnerability List)
      │     ├── stewards.tsx          (Steward Management)
      │     ├── review.tsx            (Review & Approvals)
      │     └── evidence/
      │           ├── upload.tsx      (Evidence Upload Wizard)
      │           └── viewer.tsx      (Evidence Viewer)
      └── wizard/
           ├── new-vulnerability.tsx   (Create Vulnerability Wizard)
           ├── severity.tsx            (Severity Rating Wizard)
           └── ai-analysis.tsx         (AI Analysis Workspace)
2. TOP-LEVEL COMPONENT TREE (HIERARCHICAL)
text
Copy code
<DashboardLayout>
 └── VulnerabilityDashboardPage
      ├── VulnerabilitySummaryCards
      ├── StewardActivityFeed
      ├── HighSeverityAlertsPanel
      ├── OpenVulnerabilityTable
      ├── ComponentsOverviewCarousel
      └── QuickActionsBar
3. COMPONENT BREAKDOWN
Below is a detailed definition of each required component.

3.1 Vulnerability Dashboard Components
<VulnerabilitySummaryCards />
Purpose: Display high-level metrics
Props:

totalVulnerabilities: number

highSeverityCount: number

stewardTasksDue: number

newAIRecommendations: number

<StewardActivityFeed />
Purpose: Show recent activity logs
Props:

events: ActivityEvent[]

<HighSeverityAlertsPanel />
Purpose: Highlight critical vulnerabilities
Props:

alerts: Vulnerability[]
Events:

onSelect(vulnerabilityId)

<OpenVulnerabilityTable />
Purpose: Primary vulnerability list
Props:

items: Vulnerability[]

filter: VulnerabilityFilter
Events:

onSelect(id)

onSort(field)

<ComponentsOverviewCarousel />
Purpose: Quick navigation through Process / Lifecycle / Facility elements
Props:

components: ArchitectureComponent[]
Events:

onSelect(componentId)

<QuickActionsBar />
Actions:

New Vulnerability

Start Mapping

Upload Evidence

Run AI Analysis

View All Stewards

3.2 Component Details Page
/vulnerability/[componentId]/index.tsx

<ComponentDetailHeader />
Shows:

Name

Type

Lead Steward

Risk Owner

Last updated

<ComponentArtifactViewer />
Displays: diagrams, PDFs, images
Props:

files: Artifact[]

<ComponentNodesList />
Lists the nodes/steps of a process/lifecycle/facility.

<ComponentVulnerabilityPanel />
Filtered list of vulnerabilities under this component.

3.3 Mapping Interface Components
/vulnerability/[componentId]/map.tsx

<MappingCanvas />
Purpose: The central interactive mapping tool.
Supports:

Drag/drop markers

Arrow connectors

Zoom/pan

Multi-layer overlays (image, PDF, flowchart)

Props:

baseImage: string

markers: Marker[]

onMarkerCreate(node)

onMarkerUpdate(marker)

onMarkerDelete(id)

<NodeSidebar />
Displays node properties.

<VulnerabilityMarkerContextMenu />
Right-click menu for markers.

<AIMapAssistPanel />
AI suggests:

Node detection

Vulnerability candidates

Process step classification

3.4 Vulnerability List Page
/vulnerability/[componentId]/vulnerabilities.tsx

<VulnerabilityTable />
Main table view.

<VulnerabilityTableFilters />
Filtering and sorting.

<VulnerabilityRow />
Single row with quick actions.

<VulnerabilityStatusBadge />
Visual state indicator.

<SeverityIndicator />
Shows current severity.

3.5 Vulnerability Detail Modal
<VulnerabilityDetailModal />

Tabs inside:

Summary

Evidence

Severity

Threat Links

PIT Links

Incident Links

Steward Team

Activity Log

AI Analysis

Each tab is a standalone component:

<VulnerabilitySummaryTab />

<VulnerabilityEvidenceTab />

<VulnerabilitySeverityTab />

<VulnerabilityThreatTab />

<VulnerabilityPITTab />

<VulnerabilityIncidentTab />

<VulnerabilityStewardTeamTab />

<VulnerabilityHistoryTab />

<VulnerabilityAITab />

3.6 Wizards
Wizard 1: Create Vulnerability
<VulnerabilityWizardStep1_SelectComponent />
<VulnerabilityWizardStep2_SelectNode />
<VulnerabilityWizardStep3_DescribeVulnerability />
<VulnerabilityWizardStep4_AttachEvidence />
<VulnerabilityWizardStep5_AssignStewards />
<VulnerabilityWizardReview />
Wizard 2: Severity Rating
<SeverityMatrix />
<SeverityInputPanel />
<SeverityAIRecommendation />
Wizard 3: AI Analysis
<AIAnalysisThreatMatch />
<AIAnalysisRiskCandidates />
<AIAnalysisSummary />
3.7 Steward Management
/vulnerability/[componentId]/stewards.tsx

<StewardRoleCard />
<StewardUserRow />
<AddStewardModal />
<AIRecommendedStewardsPanel />
3.8 Evidence Management
/vulnerability/[componentId]/evidence/upload.tsx

<EvidenceUploadDropzone />
<EvidenceMetadataForm />
<EvidencePreview />
<AIEvidenceClassifier />
<EvidenceLinkToIncident />
<EvidenceLinkToPIT />
3.9 Global Components
<AIAssistantSidebar />
Lives on every page.

<NotificationBell />
<Breadcrumbs />
<StatusBadge />
<UserAvatar />
<TagPill />
4. FRONTEND STATE LAYERS
Using Zustand.

useVulnerabilityStore()
Stores:

vulnerabilities

filters

severity cache

selected vulnerability

useComponentStore()
Stores:

processes

lifecycles

facilities

useMappingStore()
Stores:

canvas state

markers

zoom/pan

selected marker

useStewardStore()
Stores:

steward team

lead steward

risk owner

useAIStore()
Stores:

AI suggestions

AI scoring

AI workflow states

5. FRONTEND–BACKEND WIRES (API SURFACES)
Endpoints consumed by front end:

Vulnerabilities
GET /api/vulnerability

POST /api/vulnerability

PUT /api/vulnerability/:id

DELETE /api/vulnerability/:id

Evidence
POST /api/vulnerability/:id/evidence

GET /api/vulnerability/:id/evidence

Severity
POST /api/vulnerability/:id/severity

GET /api/vulnerability/:id/severity

Stewards
POST /api/vulnerability/:id/steward

DELETE /api/vulnerability/:id/steward/:userId

AI
POST /api/ai/vulnerability/analysis

POST /api/ai/vulnerability/threat-matching

Mapping
POST /api/component/:id/map

GET /api/component/:id/nodes

POST /api/component/:id/node

Integrations
GET /api/incidents/:id

GET /api/threat/:id

GET /api/pit/:id

6. FUTURE COMPONENTS (v0.2+)
<3DModelViewer />

<MobileCapturePanel />

<DroneFootageAnnotator />

<HeatmapOverlay />

<RiskPropagationSimulator />

7. END OF DOCUMENT
RISK_VULNERABILITY_FRONTEND_COMPONENT_MAP_v0.1