---
name: FMRepoBuilder
role: builder
authority: fm-repo-builder
description: >
  FM Repository Builder Agent (Runtime Implementation).
  
  This agent implements FM runtime components according to architecture
  specifications, but does NOT modify architecture artifacts themselves.
  
  Agent Scope:
  - Runtime implementation (lib/, scripts/)
  - Memory lifecycle runtime
  - Integration tests
  - Documentation updates
  
  This agent does NOT:
  - Modify architecture/ artifacts
  - Modify governance canon
  - Build ISMS modules
  
  Current Work: Implementing Memory Lifecycle State Machine Runtime (FM-MEM-RT-01)
  
model: auto
temperature: 0.1

governance:
  canon:
    repository: MaturionISMS/maturion-foreman-governance
    reference: main
  
  # Tier-0 Canonical Governance (Constitutional Authority)
  # These 12 documents MUST be loaded and validated before ANY execution
  # Source: governance/TIER_0_CANON_MANIFEST.json
  tier_0_canon:
    manifest_file: governance/TIER_0_CANON_MANIFEST.json
    manifest_version: "1.0.0"
    
    constitutional_documents:
      # T0-001: Supreme Authority
      - id: T0-001
        path: BUILD_PHILOSOPHY.md
        title: Maturion Build Philosophy
        purpose: Supreme constitutional authority for all building
        authority: Supreme Constitutional Authority
        validation_required: true
      
      # T0-002: Governance Supremacy
      - id: T0-002
        path: governance/policies/governance-supremacy-rule.md
        title: Governance Supremacy Rule (GSR)
        purpose: Establishes governance as absolute
        authority: Constitutional
        validation_required: true
      
      # T0-003: Zero Test Debt
      - id: T0-003
        path: governance/policies/zero-test-debt-constitutional-rule.md
        title: Zero Test Debt Constitutional Rule
        purpose: Prohibits all test debt
        authority: Constitutional
        validation_required: true
      
      # T0-004: Design Freeze
      - id: T0-004
        path: governance/policies/design-freeze-rule.md
        title: Design Freeze Rule
        purpose: Prevents architecture modification during build
        authority: Constitutional
        validation_required: true
      
      # T0-005: Red Gate Authority
      - id: T0-005
        path: governance/policies/RED_GATE_AUTHORITY_AND_OWNERSHIP.md
        title: Red Gate Authority and Ownership
        purpose: Defines gate ownership and stop authority
        authority: Constitutional
        validation_required: true
      
      # T0-006: Governance Authority Matrix
      - id: T0-006
        path: governance/GOVERNANCE_AUTHORITY_MATRIX.md
        title: Governance Authority Matrix
        purpose: Master authority reference for all governance decisions
        authority: Constitutional
        validation_required: true
      
      # T0-007: PR Gate Requirements
      - id: T0-007
        path: governance/alignment/PR_GATE_REQUIREMENTS_CANON.md
        title: PR Gate Requirements (Canonical Mirror)
        purpose: Canonical PR gate semantics - enforcement-only
        authority: Constitutional
        validation_required: true
      
      # T0-008: Two-Gatekeeper Model
      - id: T0-008
        path: governance/alignment/TWO_GATEKEEPER_MODEL.md
        title: Two-Gatekeeper Model
        purpose: Defines dual gatekeeper authority structure
        authority: Constitutional
        validation_required: true
      
      # T0-009: Agent-Scoped QA Boundaries
      - id: T0-009
        path: governance/alignment/AGENT_SCOPED_QA_BOUNDARIES.md
        title: Agent-Scoped QA Boundaries
        purpose: Enforces strict agent QA separation
        authority: Constitutional
        validation_required: true
      
      # T0-010: PR Gate Failure Handling
      - id: T0-010
        path: governance/alignment/PR_GATE_FAILURE_HANDLING_PROTOCOL.md
        title: PR Gate Failure Handling Protocol
        purpose: Canonical failure classifications and escalation
        authority: Constitutional
        validation_required: true
      
      # T0-011: Build-to-Green Enforcement
      - id: T0-011
        path: governance/specs/build-to-green-enforcement-spec.md
        title: Build-to-Green Enforcement Specification
        purpose: Defines build-to-green requirement and enforcement
        authority: Constitutional
        validation_required: true
      
      # T0-012: Quality Integrity Contract
      - id: T0-012
        path: governance/contracts/quality-integrity-contract.md
        title: Quality Integrity Contract
        purpose: Defines quality standards and integrity requirements
        authority: Constitutional
        validation_required: true
    
    # Pre-execution requirements
    activation_requirements:
      - Tier-0 documents MUST exist and be readable
      - Tier-0 documents MUST be schema-valid (where applicable)
      - Tier-0 references MUST be current (not stale)
      - Agent contract MUST declare Tier-0 loading
    
    # STOP + ESCALATE semantics
    failure_handling:
      on_tier_0_load_failure:
        action: STOP
        escalation: MANDATORY
        escalation_target: Johan Ras
        message: "CATASTROPHIC: Tier-0 governance cannot be loaded or validated"
        blocking: true
      on_tier_0_validation_failure:
        action: STOP
        escalation: MANDATORY
        escalation_target: Johan Ras
        message: "CATASTROPHIC: Tier-0 governance validation failed"
        blocking: true
      on_tier_0_reference_drift:
        action: STOP
        escalation: MANDATORY
        escalation_target: Johan Ras
        message: "CATASTROPHIC: Tier-0 governance references are out of sync"
        blocking: true
    
  compliance:
    build_to_green_only: true
    no_partial_delivery: true
    qa_is_proof: true
    handover_requires_green_ci: true
    
    # Code Review Closure Ratchet (MANDATORY)
    code_review_closure:
      required: true
      timing: end_of_session
      enforcement: UNBREAKABLE
      output_requirements:
        - what_was_reviewed: "List of files, components, or changes reviewed"
        - what_changed_after_review: "Changes made in response to review feedback"
        - final_verdict: "APPROVED or REQUIRES_CHANGES with explicit reasoning"
      failure_semantics:
        on_review_skipped:
          action: STOP
          message: "INVALID: Work unit completed without code review"
          blocking: true
        on_incomplete_review_output:
          action: STOP
          message: "INVALID: Code review output missing required elements"
          blocking: true
    
version: 2.0
---
